
  interval.rb



    View full file: 
    <a href="https://github.com//blob/main/app/lib/calculations/interval.rb" target="_blank">
      on GitHub
    </a>



  <pre><code><span class='line-number'><span class='text-secondary pe-2'>1</span></span>module Calculations</code></pre>
<pre><code><span class='line-number'><span class='text-secondary pe-2'>2</span></span>  module Interval</code></pre>
<h1>A method for calculating the number of sitting days in both Houses during an interval.</h1>

<p>We pass the start and end dates of the interval.</p>

<pre><code><span class='line-number'><span class='text-secondary pe-2'>7</span></span>    def calculate_sitting_days_in_interval( start_date, end_date )</code></pre>
<p>We set the date to start counting from to the start date.</p>

<pre><code><span class='line-number'><span class='text-secondary pe-2'>10</span></span>      date = @start_date</code></pre>
<p>Whilst the date is not later than the end date ...</p>

<pre><code><span class='line-number'><span class='text-secondary pe-2'>13</span></span>      while date &lt;= @end_date</code></pre>
<p>If the date is a Commons sitting day ...</p>

<pre><code><span class='line-number'><span class='text-secondary pe-2'>16</span></span>        if date.is_commons_parliamentary_sitting_day?</code></pre>
<p>... we increment the Commons sitting day count.</p>

<pre><code><span class='line-number'><span class='text-secondary pe-2'>19</span></span>          @commons_sitting_day_count += 1</code></pre>
<pre><code><span class='line-number'><span class='text-secondary pe-2'>20</span></span>        end</code></pre>
<p>If the date is a Lords sitting day ...</p>

<pre><code><span class='line-number'><span class='text-secondary pe-2'>23</span></span>        if date.is_lords_parliamentary_sitting_day?</code></pre>
<p>... we increment the Lords sitting day count.</p>

<pre><code><span class='line-number'><span class='text-secondary pe-2'>26</span></span>          @lords_sitting_day_count += 1</code></pre>
<pre><code><span class='line-number'><span class='text-secondary pe-2'>27</span></span>        end</code></pre>
<p>We continue to the <strong>next day</strong>.</p>

<pre><code><span class='line-number'><span class='text-secondary pe-2'>30</span></span>        date = date.next_day</code></pre>
<pre><code><span class='line-number'><span class='text-secondary pe-2'>31</span></span>      end</code></pre>
<pre><code><span class='line-number'><span class='text-secondary pe-2'>32</span></span>    end</code></pre>
<pre><code><span class='line-number'><span class='text-secondary pe-2'>33</span></span>  end</code></pre>
<pre><code><span class='line-number'><span class='text-secondary pe-2'>34</span></span>end</code></pre>


<p class="text-muted">Generated on: 2025-05-27 16:41:04</p>
